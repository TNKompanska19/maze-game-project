#include <iostream>
#include <cstring>
#include <iomanip>
#include <conio.h>
#include <windows.h>

#include "frontEnd.h"
#include "backEnd.h"

#define KEY_UP 72
#define KEY_DOWN 80
#define KEY_LEFT 75
#define KEY_RIGHT 77
#define ENTER 13
#define ESCAPE 27

char player = '?';
char trace = '.';
char wall = '#';
char enemy = '9';
bool mode = 0;

void menu(int counter) {
    system("cls");
    std::cout << "\033[1;31m";
    std::cout << "\n \n \n";
    std::cout << "              /////////////////  ///       ///  ////////////     /////          /////  ///////////  ////  /////////////  ////////////     /////////////  ///       ///  //////     ///  //////     ///  ////////////  ///////////// \n";
    std::cout << "                    ///         ///       ///  ///              /// ///      /// ///  ///     ///  ////            ///  ///              ///       ///  ///       ///  /// ///    ///  /// ///    ///  ///           ///       ///  \n";
    std::cout << "                   ///         ///       ///  ///              ///  ///    ///  ///  ///     ///  ////          ///    ///              ///       ///  ///       ///  ///  ///   ///  ///  ///   ///  ///           ///       ///   \n";
    std::cout << "                  ///         /////////////  ///////////      ///   ///  ///   ///  ///////////  ////        ///      ////////////     ///////////    ///       ///  ///   ///  ///  ///   ///  ///  ////////////  ///////////       \n";
    std::cout << "                 ///         ///       ///  ///              ///    //////    ///  ///     ///  ////      ///        ///              ///      ///   ///       ///  ///    /// ///  ///    /// ///  ///           ///      ///      \n";
    std::cout << "                ///         ///       ///  ///              ///              ///  ///     ///  ////    ///          ///              ///      ///   ///       ///  ///     //////  ///     //////  ///           ///      ///       \n";
    std::cout << "               ///         ///       ///  ////////////     ///              ///  ///     ///  ////   ////////////  ////////////     ///      ///   /////////////  ///      /////  ///      /////  ////////////  ///      ///        \n\n\n";
    std::cout << std::setw(186) << " __________________________________________________________________________________________________________________________________\n";
    std::cout << "                                                      |  |     *       *       *       *       *       *       *       *       *       *   _________________    *       *     *       |  |\n";
    std::cout << "                                                      |  |* *     * *     * *     * *     * *     * *     * *     * *     * *     * *     |  _____________  |      * *     *     * *  |  |\n";
    std::cout << "                                                      |  |     *       *       *       *       *       *       *     __________        *  | |  *       *  | |_________________________|  |\n";
    std::cout << "                                                      |  |________     *       *       *       *       *       *    |  ______  |       *  | |  *       *  |  _________________________   |\n";
    std::cout << "                                                      |   ________| *      *  _______________ * *   ___________  * *| |      | |__________| |     * *     | | *      * *     * *     *|  |\n";
    std::cout << "          \\\\\\\\\\\\\          ||||||          ///////     |  |   *  | |    *     |  ___________  |     |  ______   |____| |   *  |______________|  *       *  | |     *       *       *   |  |\n";
    std::cout << "           \\\\\\\\\\\\\         ||||||         ///////      |  |*   * | |    *     | |  *        | |_____| |      |_________|   *       *       *    *       *  | | *      * *     * *     *|  |                                             ////\n";
    std::cout << "            \\\\\\\\\\\\\        ||||||        ///////       |  |*   * | |__________| |     *  *  |_________| *     * *     * *     * *     * *          * *     | |_________    *       *   |  |                                            ////\n";
    std::cout << "             \\\\\\\\\\\\\       ||||||       ///////        |  | *    |______________|  *        * _____________________________________________________     *  |_________  |   *       *   |  |                           ////////        ////\n";
    std::cout << "              \\\\\\\\\\\\\      ||||||      ///////         |  |   *     *      *       *        *|                                                     |    *       *    | |*     * *     *|  |                         ///////////      ////\n";
    std::cout << "               \\\\\\\\\\\\\     ||||||     ///////          |  |______________________     *  *   |      C  H  O  O  S  E   A N   O  P  T  I  O  N      | *     * *     * | |   *       *   |  |                        ///////////      ////\n";
    std::cout << "                \\\\\\\\\\\\\    ||||||    ///////           |   ____________________  | *        *|                                                     |    *       *    | |   *       *   |  |                         ////////       ////\n";
    if (counter == 1) {

        std::cout << "                 \\\\\\\\\\\\\   ||||||   ///////            |  |      *       *     | | *        *|                                                     |    *       *    | |_______________|  |                          ////         ////\n";
        std::cout << "                  \\\\\\\\\\\\\  ||||||  ///////             |  | * *     * *     * *| |    *  *   |    --------      P L A Y  G A M E      --------     | *     * *     * |_________________   |              ////////////////////////////\n";
        std::cout << "                   \\\\\\\\\\\\\ |||||| ///////              |  |      *       *     | | *        *|                                                     |    *       *       *        *     |  |             ////    //////////// \n";
        std::cout << "                    \\\\\\\\\\\\\||||||///////               |  |      *       *     | | *        *|                                                     |    *       *       *        *     |  |            ////    ////////////\n";
        std::cout << "       ||||||||||||||||||||||||||||||||||||||||||||   |  | * *     * *     * *| |    *  *   |                  S E T T I N G S                    |_________________       * *     * *|  |           ////    ////////////\n";
        std::cout << "       ||||||||||||||||||||||||||||||||||||||||||||   |  |      *       *     | |    *  *   |                                                     |_______________  |   *       *     |  |          ////    ////////////\n";
        std::cout << "                    //////||||||\\\\\\\\\\\\\                |  |      *       *     | |___________|                                                     |    *       *  | |   *       *     |  |         ////    ////////////\n";
        std::cout << "                   ////// |||||| \\\\\\\\\\\\\               |  | * *     * *     * *|_____________|                H O W  T O  P L A Y                  | *     * *     | |*     * *     * *|  |        ////    ////////////\n";
        std::cout << "                  //////  ||||||  \\\\\\\\\\\\\              |  |      *       *       *      *    |                                                     |     __________| |_________________|  |       ////    ////////////    \n";
        std::cout << "                 //////   ||||||   \\\\\\\\\\\\\             |  |      *       *       *      *    |                                                     |    |  ____________________________   |              ////// \\\\\\\\\\\\\n";
        std::cout << "                //////    ||||||    \\\\\\\\\\\\\            |  | * *     * *     * *     * *      |                      E X I T                        |    | |   * *        * *       * * |  |             //////   \\\\\\\\\\\\\n";
        std::cout << "               //////     ||||||     \\\\\\\\\\\\\           |  |      *       *       *      *    |_____________________________________________________|    | |*       *  *       * *      |  |            //////     \\\\\\\\\\\\\n";

    }
    else if (counter == 2) {
        std::cout << "                 \\\\\\\\\\\\\   ||||||   ///////            |  |      *       *     | | *        *|                                                     |    *       *    | |_______________|  |                          ////         ////\n";
        std::cout << "                  \\\\\\\\\\\\\  ||||||  ///////             |  | * *     * *     * *| |    *  *   |                  P L A Y  G A M E                   | *     * *     * |_________________   |              ////////////////////////////\n";
        std::cout << "                   \\\\\\\\\\\\\ |||||| ///////              |  |      *       *     | | *        *|                                                     |    *       *       *        *     |  |             ////    //////////// \n";
        std::cout << "                    \\\\\\\\\\\\\||||||///////               |  |      *       *     | | *        *|                                                     |    *       *       *        *     |  |            ////    ////////////\n";
        std::cout << "       ||||||||||||||||||||||||||||||||||||||||||||   |  | * *     * *     * *| |    *  *   |    --------      S E T T I N G S       --------     |_________________       * *     * *|  |           ////    ////////////\n";
        std::cout << "       ||||||||||||||||||||||||||||||||||||||||||||   |  |      *       *     | |    *  *   |                                                     |_______________  |   *       *     |  |          ////    ////////////\n";
        std::cout << "                    //////||||||\\\\\\\\\\\\\                |  |      *       *     | |___________|                                                     |    *       *  | |   *       *     |  |         ////    ////////////\n";
        std::cout << "                   ////// |||||| \\\\\\\\\\\\\               |  | * *     * *     * *|_____________|                H O W  T O  P L A Y                  | *     * *     | |*     * *     * *|  |        ////    ////////////\n";
        std::cout << "                  //////  ||||||  \\\\\\\\\\\\\              |  |      *       *       *      *    |                                                     |     __________| |_________________|  |       ////    ////////////    \n";
        std::cout << "                 //////   ||||||   \\\\\\\\\\\\\             |  |      *       *       *      *    |                                                     |    |  ____________________________   |              ////// \\\\\\\\\\\\\n";
        std::cout << "                //////    ||||||    \\\\\\\\\\\\\            |  | * *     * *     * *     * *      |                      E X I T                        |    | |   * *        * *       * * |  |             //////   \\\\\\\\\\\\\n";
        std::cout << "               //////     ||||||     \\\\\\\\\\\\\           |  |      *       *       *      *    |_____________________________________________________|    | |*       *  *       * *      |  |            //////     \\\\\\\\\\\\\n";

    }
    else if (counter == 3) {
        std::cout << "                 \\\\\\\\\\\\\   ||||||   ///////            |  |      *       *     | | *        *|                                                     |    *       *    | |_______________|  |                          ////         ////\n";
        std::cout << "                  \\\\\\\\\\\\\  ||||||  ///////             |  | * *     * *     * *| |    *  *   |                  P L A Y  G A M E                   | *     * *     * |_________________   |              ////////////////////////////\n";
        std::cout << "                   \\\\\\\\\\\\\ |||||| ///////              |  |      *       *     | | *        *|                                                     |    *       *       *        *     |  |             ////    //////////// \n";
        std::cout << "                    \\\\\\\\\\\\\||||||///////               |  |      *       *     | | *        *|                                                     |    *       *       *        *     |  |            ////    ////////////\n";
        std::cout << "       ||||||||||||||||||||||||||||||||||||||||||||   |  | * *     * *     * *| |    *  *   |                  S E T T I N G S                    |_________________       * *     * *|  |           ////    ////////////\n";
        std::cout << "       ||||||||||||||||||||||||||||||||||||||||||||   |  |      *       *     | |    *  *   |                                                     |_______________  |   *       *     |  |          ////    ////////////\n";
        std::cout << "                    //////||||||\\\\\\\\\\\\\                |  |      *       *     | |___________|                                                     |    *       *  | |   *       *     |  |         ////    ////////////\n";
        std::cout << "                   ////// |||||| \\\\\\\\\\\\\               |  | * *     * *     * *|_____________|    --------    H O W  T O  P L A Y     --------     | *     * *     | |*     * *     * *|  |        ////    ////////////\n";
        std::cout << "                  //////  ||||||  \\\\\\\\\\\\\              |  |      *       *       *      *    |                                                     |     __________| |_________________|  |       ////    ////////////    \n";
        std::cout << "                 //////   ||||||   \\\\\\\\\\\\\             |  |      *       *       *      *    |                                                     |    |  ____________________________   |              ////// \\\\\\\\\\\\\n";
        std::cout << "                //////    ||||||    \\\\\\\\\\\\\            |  | * *     * *     * *     * *      |                      E X I T                        |    | |   * *        * *       * * |  |             //////   \\\\\\\\\\\\\n";
        std::cout << "               //////     ||||||     \\\\\\\\\\\\\           |  |      *       *       *      *    |_____________________________________________________|    | |*       *  *       * *      |  |            //////     \\\\\\\\\\\\\n";
    }
    else if (counter == 4) {
        std::cout << "                 \\\\\\\\\\\\\   ||||||   ///////            |  |      *       *     | | *        *|                                                     |    *       *    | |_______________|  |                          ////         ////\n";
        std::cout << "                  \\\\\\\\\\\\\  ||||||  ///////             |  | * *     * *     * *| |    *  *   |                  P L A Y  G A M E                   | *     * *     * |_________________   |              ////////////////////////////\n";
        std::cout << "                   \\\\\\\\\\\\\ |||||| ///////              |  |      *       *     | | *        *|                                                     |    *       *       *        *     |  |             ////    //////////// \n";
        std::cout << "                    \\\\\\\\\\\\\||||||///////               |  |      *       *     | | *        *|                                                     |    *       *       *        *     |  |            ////    ////////////\n";
        std::cout << "       ||||||||||||||||||||||||||||||||||||||||||||   |  | * *     * *     * *| |    *  *   |                  S E T T I N G S                    |_________________       * *     * *|  |           ////    ////////////\n";
        std::cout << "       ||||||||||||||||||||||||||||||||||||||||||||   |  |      *       *     | |    *  *   |                                                     |_______________  |   *       *     |  |          ////    ////////////\n";
        std::cout << "                    //////||||||\\\\\\\\\\\\\                |  |      *       *     | |___________|                                                     |    *       *  | |   *       *     |  |         ////    ////////////\n";
        std::cout << "                   ////// |||||| \\\\\\\\\\\\\               |  | * *     * *     * *|_____________|                H O W  T O  P L A Y                  | *     * *     | |*     * *     * *|  |        ////    ////////////\n";
        std::cout << "                  //////  ||||||  \\\\\\\\\\\\\              |  |      *       *       *      *    |                                                     |     __________| |_________________|  |       ////    ////////////    \n";
        std::cout << "                 //////   ||||||   \\\\\\\\\\\\\             |  |      *       *       *      *    |                                                     |    |  ____________________________   |              ////// \\\\\\\\\\\\\n";
        std::cout << "                //////    ||||||    \\\\\\\\\\\\\            |  | * *     * *     * *     * *      |    --------          E X I T          ---------     |    | |   * *        * *       * * |  |             //////   \\\\\\\\\\\\\n";
        std::cout << "               //////     ||||||     \\\\\\\\\\\\\           |  |      *       *       *      *    |_____________________________________________________|    | |*       *  *       * *      |  |            //////     \\\\\\\\\\\\\n";
    }
    std::cout << "              //////      ||||||      \\\\\\\\\\\\\          |  | * *     * *     * *     * *     * *     * *     * *     * *     * *     * *| |             *| |*       *  *       *  *     |  |           //////       \\\\\\\\\\\\\n";
    std::cout << "             //////       ||||||       \\\\\\\\\\\\\         |  |_____________         *       *       * ____________  *       *       ______| |              | |   * *        * *       * * |  |          //////         \\\\\\\\\\\\\n";
    std::cout << "            //////        ||||||        \\\\\\\\\\\\\        |   ___________  |        *       *       *|  ________  | *       *      |  ______|     *       *| |*       *  *       *  *     |  |         //////           \\\\\\\\\\\\\n";
    std::cout << "           //////         ||||||         \\\\\\\\\\\\\       |  | * *     * | |   * *     * *     * *   | |  * *   | |________________| | *     * *     * *   | |*       *  *       *  *     |  |        //////            //////\n";
    std::cout << "          //////          ||||||          \\\\\\\\\\\\\      |  |      *    | |*       *       *        | |       *|____________________|       *       *     | |   * *        * *       * * |  |       //////            ////// \n";
    std::cout << "         //////           ||||||           \\\\\\\\\\\\\     |  |      *    | |_________________________| |___________________________________________________| |*       *  *       *  *     |  |      //////            //////\n";
    std::cout << "        //////            ||||||            \\\\\\\\\\\\\    |  | * *     * |___________________________________________________________________________________|*       *  *       *  *     |  |     //////            //////\n";
    std::cout << "       //////             ||||||             \\\\\\\\\\\\\   |__|____________________________________________________________________________________________________________________________|__|    //////            //////\n";


}
void exit() {
    system("cls");
    std::cout << "\nThank you for playing!";
    std::cin.get();
    std::cin.ignore();
}
bool menuInput() {
    int counter = 1;
    int night = 1;

    

    int height = 15, width = 15;

    menu(counter);

    do 
    {
        switch (_getch()) {
        case KEY_UP:
        {
            if (counter == 1) counter = 5;
            counter--;
            system("CLS");
            menu(counter);
        } break;
        case KEY_DOWN:
        {
            if (counter == 4) {
                counter = 0;
            }

            counter++;
            system("CLS");
            menu(counter);
        } break;
        case ENTER: {
            switch (counter) {
            case 1: {

                while (night <= 5) {
                    runGame(&player, &enemy, &trace, &wall, night++, &mode);
                }
                system("CLS");
                menuInput();
                break;
            }
            case 2: {
                system("CLS");
                displaySettingsMenuInput(&player, &trace, &enemy, &wall, &mode);
                menuInput();
                break;
            }
            case 3: {
                system("CLS");
                displayHowToPlay();
                break;
            }
            case 4: {
                exit();
            }
            }
        } break;
        }
        
    } while (true);
    return 1;
}
void displaySettingsMenu(int counter) {
    std::cout << "\n\n\n";
    std::cout << std::setw(175) << "====================================================================================================================================================\n\n";
    std::cout << std::setw(169) << "               //////////     //////////    /////////////     /////////////     /////////////       //////      ///       ///////////     //////////\n";
    std::cout << std::setw(169) << "              ///            ///                ///               ///               ///            /// ///     ///      ////             ///        \n";
    std::cout << std::setw(169) << "             ///            ///                ///               ///               ///            ///  ///    ///     ///               ///         \n";
    std::cout << std::setw(169) << "            //////////     //////////         ///               ///               ///            ///   ///   ///     ///      /////    //////////   \n";
    std::cout << std::setw(169) << "                  ///     ///                ///               ///               ///            ///    ///  ///     ///        ///           ///    \n";
    std::cout << std::setw(169) << "                 ///     ///                ///               ///               ///            ///      //////     ////      ///            ///     \n";
    std::cout << std::setw(170) << "         //////////     //////////         ///               ///          /////////////       ///       /////      ///////////      //////////      \n\n";
    std::cout << std::setw(175) << "====================================================================================================================================================\n\n";
    std::cout << "\n\n\n\n\n\n\n";
    if (counter == 1) {
        std::cout << std::setw(110) << "--> C H A N G E   P L A Y E R" << std::endl;
        std::cout << std::setw(108) << "    C H A N G E   T R A C E" << std::endl;
        std::cout << std::setw(108) << "    C H A N G E   E N E M Y" << std::endl;
        std::cout << std::setw(106) << "    C H A N G E   W A L L" << std::endl;
        std::cout << std::setw(112) << "    E A S Y / H A R D   M O D E" << std::endl;
        std::cout << std::setw(108) << "    B A C K   T O   M E N U" << std::endl;
    }
    if (counter == 2) {
        std::cout << std::setw(110) << "    C H A N G E   P L A Y E R" << std::endl;
        std::cout << std::setw(108) << "--> C H A N G E   T R A C E" << std::endl;
        std::cout << std::setw(108) << "    C H A N G E   E N E M Y" << std::endl;
        std::cout << std::setw(106) << "    C H A N G E   W A L L" << std::endl;
        std::cout << std::setw(112) << "    E A S Y / H A R D   M O D E" << std::endl;
        std::cout << std::setw(108) << "    B A C K   T O   M E N U" << std::endl;
    }
    if (counter == 3) {
        std::cout << std::setw(110) << "    C H A N G E   P L A Y E R" << std::endl;
        std::cout << std::setw(108) << "    C H A N G E   T R A C E" << std::endl;
        std::cout << std::setw(108) << "--> C H A N G E   E N E M Y" << std::endl;
        std::cout << std::setw(106) << "   C H A N G E   W A L L" << std::endl;
        std::cout << std::setw(112) << "   E A S Y / H A R D   M O D E" << std::endl;
        std::cout << std::setw(108) << "   B A C K   T O   M E N U" << std::endl;
    }
    if (counter == 4) {
        std::cout << std::setw(110) << "    C H A N G E   P L A Y E R" << std::endl;
        std::cout << std::setw(108) << "    C H A N G E   T R A C E" << std::endl;
        std::cout << std::setw(108) << "    C H A N G E   E N E M Y" << std::endl;
        std::cout << std::setw(106) << "--> C H A N G E   W A L L" << std::endl;
        std::cout << std::setw(112) << "    E A S Y / H A R D   M O D E" << std::endl;
        std::cout << std::setw(108) << "    B A C K   T O   M E N U" << std::endl;
    }
    if (counter == 5) {
        std::cout << std::setw(110) << "    C H A N G E   P L A Y E R" << std::endl;
        std::cout << std::setw(108) << "    C H A N G E   T R A C E" << std::endl;
        std::cout << std::setw(108) << "    C H A N G E   E N E M Y" << std::endl;
        std::cout << std::setw(106) << "    C H A N G E   W A L L" << std::endl;
        std::cout << std::setw(112) << "--> E A S Y / H A R D   M O D E" << std::endl;
        std::cout << std::setw(108) << "    B A C K   T O   M E N U" << std::endl;
    }
    if (counter == 6) {
        std::cout << std::setw(110) << "    C H A N G E   P L A Y E R" << std::endl;
        std::cout << std::setw(108) << "    C H A N G E   T R A C E" << std::endl;
        std::cout << std::setw(108) << "    C H A N G E   E N E M Y" << std::endl;
        std::cout << std::setw(106) << "    C H A N G E   W A L L" << std::endl;
        std::cout << std::setw(112) << "    E A S Y / H A R D   M O D E" << std::endl;
        std::cout << std::setw(108) << "--> B A C K   T O   M E N U" << std::endl;
    }
}
void displaySettingsMenuInput(char* player, char* trace, char* enemy, char* wall, bool* mode) {
    
    char playerTemp;
    std::string traceTemp;
    char enemyTemp;
    char wallTemp;
    bool modeTemp;
   
    int choice;
    int counter = 1;
    displaySettingsMenu(counter);

    while (true)
    {
        switch ((choice = _getch())) {
        case KEY_UP:
        {
            if (counter == 1) counter = 7;
            counter--;
            system("CLS");
            displaySettingsMenu(counter);
        } break;
        case KEY_DOWN:
        {
            if (counter == 6) counter = 0;
            counter++;
            system("CLS");
            displaySettingsMenu(counter);
        } break;
        case ENTER: {
            switch (counter) {
            case 1: {
                std::cout << "\n\n\nChange player: ";
                std::cin >> playerTemp;
                *player = playerTemp;
                system("CLS");
                displaySettingsMenu(counter);

            }break;
            case 2: {
                std::cout << "\n\n\nChange trace (type \"none\" to disable trace): ";
                std::cin >> traceTemp;
                if (traceTemp == "none") *trace = ' ';
                else {
                    const char* temp = traceTemp.c_str();
                    *trace = *temp;
                }
                
                system("CLS");
                displaySettingsMenu(counter);

            }break;
            case 3: {
                std::cout << "\n\n\nChange enemy: ";
                std::cin >> enemyTemp;
                *enemy = enemyTemp;

                system("CLS");
                displaySettingsMenu(counter);

            }break;
            case 4: {
                std::cout << "\n\n\nChange wall: ";
                std::cin >> wallTemp;
                *wall = wallTemp;

                system("CLS");
                displaySettingsMenu(counter);

            }break;
            case 5: {
                std::cout << "\n\n\nChoose easy/hard mode (0 -> easy, 1 -> hard): ";
                std::cin >> modeTemp;
                *mode = modeTemp;
                system("CLS");
                displaySettingsMenu(counter);

            }break;
            case 6: {
                system("CLS");
                menuInput();
            }break;

            }
        } break;
        }
    }
}


void displayNightMessage(int night) {
    switch (night) {
    case 1: {
        std::cout << "\033[0;35m";
        std::cout << "\n\n\n";
        std::cout << std::setw(156) << "==============================================================================================================\n\n";
        std::cout << std::setw(150) << "               //////      ///   ////       /////////   ///       ///  /////////////////     ////////////\n";
        std::cout << std::setw(150) << "              /// ///     ///   ////    ////           ///       ///         ///                ////     \n";
        std::cout << std::setw(150) << "             ///  ///    ///   ////   ///             ///       ///         ///                ////      \n";
        std::cout << std::setw(150) << "            ///   ///   ///   ////   ///      /////  /////////////         ///                ////       \n";
        std::cout << std::setw(150) << "           ///    ///  ///   ////   ///        ///  ///       ///         ///                ////        \n";
        std::cout << std::setw(150) << "          ///      //////   ////    ////      ///  ///       ///         ///                ////         \n";
        std::cout << std::setw(150) << "         ///       /////   ////      ///////////  ///       ///         ///            ////////////     \n\n";
        std::cout << std::setw(156) << "==============================================================================================================\n\n";
        std::cout << "\n\n\n\n\n\n\n";
    } break;

    case 2: {
        std::cout << "\033[0;35m";
        std::cout << "\n\n\n";
        std::cout << std::setw(163) << "==========================================================================================================================\n\n";
        std::cout << std::setw(168) << "               //////      ///   ////       /////////   ///       ///  /////////////////     ////////////   ////////////           \n";
        std::cout << std::setw(168) << "              /// ///     ///   ////    ////           ///       ///         ///                ////           ////                \n";
        std::cout << std::setw(168) << "             ///  ///    ///   ////   ///             ///       ///         ///                ////           ////                 \n";
        std::cout << std::setw(168) << "            ///   ///   ///   ////   ///      /////  /////////////         ///                ////           ////                  \n";
        std::cout << std::setw(168) << "           ///    ///  ///   ////   ///        ///  ///       ///         ///                ////           ////                   \n";
        std::cout << std::setw(168) << "          ///      //////   ////    ////      ///  ///       ///         ///                ////           ////                    \n";
        std::cout << std::setw(168) << "         ///       /////   ////      ///////////  ///       ///         ///            ////////////   ////////////                \n\n";
        std::cout << std::setw(163) << "==========================================================================================================================\n\n";
        std::cout << "\n\n\n\n\n\n\n";
    } break;

    case 3: {
        std::cout << "\033[0;35m";
        std::cout << "\n\n\n";
        std::cout << std::setw(166) << "========================================================================================================================================\n\n";
        std::cout << std::setw(168) << "               //////      ///   ////       /////////   ///       ///  /////////////////     ////////////   ////////////   ////////////        \n";
        std::cout << std::setw(168) << "              /// ///     ///   ////    ////           ///       ///         ///                ////           ////            ///             \n";
        std::cout << std::setw(168) << "             ///  ///    ///   ////   ///             ///       ///         ///                ////           ////            ///              \n";
        std::cout << std::setw(168) << "            ///   ///   ///   ////   ///      /////  /////////////         ///                ////           ////            ///               \n";
        std::cout << std::setw(168) << "           ///    ///  ///   ////   ///        ///  ///       ///         ///                ////           ////            ///                \n";
        std::cout << std::setw(168) << "          ///      //////   ////    ////      ///  ///       ///         ///                ////           ////            ///                 \n";
        std::cout << std::setw(168) << "         ///       /////   ////      ///////////  ///       ///         ///            ////////////   ////////////    ///////////             \n\n";
        std::cout << std::setw(166) << "========================================================================================================================================\n\n";
        std::cout << "\n\n\n\n\n\n\n";
    } break;

    case 4: {
        std::cout << "\033[0;35m";
        std::cout << "\n\n\n";
        std::cout << std::setw(150) << "=========================================================================================================================\n\n";
        std::cout << std::setw(150) << "               //////      ///   ////       /////////   ///       ///  /////////////////     ////////////   ///       ///     \n";
        std::cout << std::setw(150) << "              /// ///     ///   ////    ////           ///       ///         ///                ////        ///      ///      \n";
        std::cout << std::setw(150) << "             ///  ///    ///   ////   ///             ///       ///         ///                ////         ///     ///       \n";
        std::cout << std::setw(150) << "            ///   ///   ///   ////   ///      /////  /////////////         ///                ////          ///    ///        \n";
        std::cout << std::setw(150) << "           ///    ///  ///   ////   ///        ///  ///       ///         ///                ////           ///   ///         \n";
        std::cout << std::setw(150) << "          ///      //////   ////    ////      ///  ///       ///         ///                ////            ///  ///          \n";
        std::cout << std::setw(150) << "         ///       /////   ////      ///////////  ///       ///         ///            ////////////          /////           \n\n";
        std::cout << std::setw(150) << "=========================================================================================================================\n\n";
        std::cout << "\n\n\n\n\n\n\n";
    } break;

    case 5: {
        std::cout << "\033[0;35m";
        std::cout << "\n\n\n";
        std::cout << std::setw(152) << "===============================================================================================================\n\n";
        std::cout << std::setw(150) << "               //////      ///   ////       /////////   ///       ///  /////////////////     ///       ///     \n";
        std::cout << std::setw(150) << "              /// ///     ///   ////    ////           ///       ///         ///             ///      ///      \n";
        std::cout << std::setw(150) << "             ///  ///    ///   ////   ///             ///       ///         ///              ///     ///       \n";
        std::cout << std::setw(150) << "            ///   ///   ///   ////   ///      /////  /////////////         ///               ///    ///        \n";
        std::cout << std::setw(150) << "           ///    ///  ///   ////   ///        ///  ///       ///         ///                ///   ///         \n";
        std::cout << std::setw(150) << "          ///      //////   ////    ////      ///  ///       ///         ///                 ///  ///          \n";
        std::cout << std::setw(150) << "         ///       /////   ////      ///////////  ///       ///         ///                   /////           \n\n";
        std::cout << std::setw(152) << "===============================================================================================================\n\n";
        std::cout << "\n\n\n\n\n\n\n";
    } break;
    }
}

void displayHowToPlay() {
    std::cout << std::setw(149) << "___________________________________________________________________________________________________________\n";
    std::cout << std::setw(150) << "|                                                                                                           |\n";
    std::cout << std::setw(150) << "|                                                                                                           |\n";
    std::cout << std::setw(150) << "|                                                                                                           |\n";
    std::cout << std::setw(150) << "|             ________________________________________________________________________________              |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |                              H O W  T O  P L A Y                               |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |            1) Every time you start the game your position will be in           |             |\n";
    std::cout << std::setw(150) << "|            |               the top left corner and the end of the maze will be in           |             |\n";
    std::cout << std::setw(150) << "|            |               the bottom right corner.                                         |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |            2) The game has 5 nights. Every previous night is always            |             |\n";
    std::cout << std::setw(150) << "|            |               easier than the next one. Also, with every night the maze        |             |\n";
    std::cout << std::setw(150) << "|            |               gets bigger.                                                     |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |            3) There are two modes that exist. The first one is the easy        |             |\n";
    std::cout << std::setw(150) << "|            |               one and the second is the hard one. If you choose to play        |             |\n";
    std::cout << std::setw(150) << "|            |               on hard mode spiders will appear.                                |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |            4) Dont get too close to the spiders or you may lose the game!      |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |            5) You can move with the arrows on your keyboard!                   |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |            6) If you succeed and go through all 5 night of game                |             |\n";
    std::cout << std::setw(150) << "|            |               -TO BE CONTINUE- message will appear.                            |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |            7) If you want to leave the game you need to press                  |             |\n";
    std::cout << std::setw(150) << "|            |               the escape key.                                                  |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |            8) Enjoy the game :) !                                              |             |\n";
    std::cout << std::setw(150) << "|            |                                                                                |             |\n";
    std::cout << std::setw(150) << "|            |________________________________________________________________________________|             |\n";
    std::cout << std::setw(150) << "|                                                                                                           |\n";
    std::cout << std::setw(150) << "|                                                                                                           |\n";
    std::cout << std::setw(150) << "|                                                                                                           |\n";
    std::cout << std::setw(150) << "|___________________________________________________________________________________________________________|\n";
    char toReturn = _getch();
    if (toReturn == ESCAPE) {
        menuInput();
    }
    else {
        system("cls");
        displayHowToPlay();
    }
}

bool endGameLabel() {
    std::cout << "\33[1;34m";
    std::cout << std::setw(10000) << "                     \n";
    std::cout << std::setw(150) << "                /////////////////   ////////////       /////////     //////////        /////////   ////////////   //////      ///  /////////////////  ////   //////      ///   ///       ///   //////////                     \n";
    std::cout << std::setw(150) << "                       ///         ///      ///       ///     ///   ///             ///           ///      ///   /// ///     ///         ///         ////   /// ///     ///   ///       ///   ///                             \n";
    std::cout << std::setw(150) << "                      ///         ///      ///       ///     ///   ///             ///           ///      ///   ///  ///    ///         ///         ////   ///  ///    ///   ///       ///   ///                              \n";
    std::cout << std::setw(150) << "                     ///         ///      ///       /////////     //////////      ///           ///      ///   ///   ///   ///         ///         ////   ///   ///   ///   ///       ///   //////////                        \n";
    std::cout << std::setw(150) << "                    ///         ///      ///       ///     ///   ///             ///           ///      ///   ///    ///  ///         ///         ////   ///    ///  ///   ///       ///   ///                                \n";
    std::cout << std::setw(150) << "                   ///         ///      ///       ///     ///   ///             ///           ///      ///   ///      //////         ///         ////   ///      //////   ///       ///   ///                                 \n";
    std::cout << std::setw(150) << "                  ///         ////////////       /////////     //////////        /////////   ////////////   ///       /////         ///         ////   ///       /////   /////////////   //////////                         \n\n";

    Sleep(3000);

    for (int i = 0; i < 60; i++) {
        Sleep(200);
        std::cout << "\n";
    }
    return 0;
}

void gameOver(int counter) {
    system("cls");

    std::cout << "\033[0;36m ";
    std::cout << "\n\n\n\n\n";
    std::cout << "\t\t\t\t\t" << "           /////////    ///////////   /////          /////   ////////////        ////////////   ///       ///  ////////////  /////////////           \n";
    std::cout << "\t\t\t\t\t" << "       ////            ///     ///   /// ///      /// ///   ///                 ///      ///   ///       ///  ///           ///       ///             \n";
    std::cout << "\t\t\t\t\t" << "     ///              ///     ///   ///  ///    ///  ///   ///                 ///      ///   ///       ///  ///           ///       ///             \n";
    std::cout << "\t\t\t\t\t" << "    ///      //////  ///////////   ///   ///  ///   ///   ////////////        ///      ///   ///       ///  ////////////  ///////////                 \n";
    std::cout << "\t\t\t\t\t" << "   ///         ///  ///     ///   ///    //////    ///   ///                 ///      ///   ///       ///  ///           ///       ///           \n";
    std::cout << "\t\t\t\t\t" << "    ////      ///  ///     ///   ///              ///   ///                 ///      ///   ///       ///  ///           ///       ///          \n";
    std::cout << "\t\t\t\t\t" << "       /////////  ///     ///   ///              ///   ////////////        ////////////    ///////////   ////////////  ///       ///      \n\n\n";

    if (counter == 1) {
        std::cout << "\t\t\t\t\t\t" << "     _______________________________________________________________________________________________________________\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++   _____________________________________________________   ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                                                     |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |      W O U L D  Y O U  L I K E  T O  P L A Y        |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |             A N O T H E R  G A M E  ?               |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                                                     |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                                                     |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  | -------->        P L A Y   A G A I N                |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                                                     |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                                                     |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |            R E T U R N  T O  T H E  M E N U         |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                                                     |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |_____________________________________________________|  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++                                                           ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |_______________________________________________________________________________________________________________|\n";
    }
    else if (counter == 2) {
        std::cout << "\t\t\t\t\t\t" << "     _______________________________________________________________________________________________________________\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++   _____________________________________________________   ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                                                     |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |      W O U L D  Y O U  L I K E  T O  P L A Y        |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |             A N O T H E R  G A M E  ?               |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                                                     |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                                                     |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                  P L A Y   A G A I N                |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                                                     |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                                                     |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  | -------->  R E T U R N  T O  T H E  M E N U         |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |                                                     |  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++  |_____________________________________________________|  ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |++++++++++++++++++++++++++                                                           ++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++|\n";
        std::cout << "\t\t\t\t\t\t" << "    |_______________________________________________________________________________________________________________|\n";

    }
}

void gameOverInput() {
    int choice;
    int counter = 1;
    int night = 1;


    gameOver(counter);

    while (true)
    {
        switch ((choice = _getch())) {
        case KEY_UP:
        {
            if (counter == 1) counter = 3;
            counter--;
            system("CLS");
            gameOver(counter);
        } break;
        case KEY_DOWN:
        {
            if (counter == 2) counter = 0;
            counter++;
            system("CLS");
            gameOver(counter);
        } break;
        case ENTER: {
            switch (counter) {
            case 1: {
                

                int height = 15, width = 15;
                while (night <= 5) {
                    runGame(&player, &enemy, &trace, &wall, night++, &mode);
                }
                system("CLS");
                menuInput();
                break;
            }
            case 2: {
                system("CLS");
                menuInput();
                break;
            }

            }
        } break;
        }
    }

}